<!DOCTYPE html>
<html>
<head>
	<title>Thingamagen</title>
	<script type="text/javascript" src="./genathing.js"></script>
	<link rel = "stylesheet" type = "text/css" href = "./style.css">
</head>

<body>
	
	<h1>Thingamagen</h1>
	<div id = "genDisplay" class="important">Your Thingamagen will appear here.
		<!-- Thing gens here -->
	</div>
	<br>
	<button class="button" onclick = "genathingFn()">Generate my thing!</button>
	<!-- canvas -->
	<script>

			//var canvas, context, mouse;
			var canvas, context, mouse = { x: 0, y: 0 };

			init();

			function init() {

				canvas = document.createElement( 'canvas' );
				canvas.width = window.innerWidth;
				canvas.height = window.innerHeight;
				canvas.style.cursor = 'crosshair';

				context = canvas.getContext( '2d' );
				context.strokeStyle = 'rgb(0,0,0)';
				context.lineWidth = 0.5;

				document.addEventListener( 'mousedown', onDocumentMouseDown, false );
				document.addEventListener( 'mouseup', onDocumentMouseUp, false );

				document.body.appendChild( canvas );

			}

			function onDocumentMouseDown( event ) {

				mouse.x = event.clientX;
				mouse.y = event.clientY;

				document.addEventListener( 'mousemove', onDocumentMouseMove, false );

			}

			function onDocumentMouseUp( event ) {

				document.removeEventListener( 'mousemove', onDocumentMouseMove, false );

			}

			function onDocumentMouseMove( event ) {
				var offsetCanvas = canvas.offset();
        			//var x = event.pageX - offsetCanvas.left;
        			//var y = event.pageY - offsetCanvas.top;
				
				context.beginPath();
				
				//context.moveTo( (mouse.x + offsetCanvas.left), (mouse.y + offsetCanvas.top));
				//context.lineTo( (event.clientX + offsetCanvas.left), (event.clientY + offsetCanvas.top) );
				
				context.moveTo( (mouse.x + 40), (mouse.y + 40);
				context.lineTo( (event.clientX + 40), (event.clientY + 40) );
				
				context.stroke();

				mouse.x = event.clientX;
				mouse.y = event.clientY;

			}

		</script>
	</body>
</html>
